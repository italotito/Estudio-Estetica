<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Login Administrativo - Estética & Bem-estar</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Rubik:400,700" rel="stylesheet">
    <link rel="stylesheet" href="fonts/icomoon/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="fonts/flaticon/font/flaticon.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/rangeslider.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div class="site-wrap">

        <div class="site-mobile-menu">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div>

        <header class="site-navbar" role="banner">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-11 col-xl-4">
                        <h1 class="mb-0 site-logo"><a href="index.html" class="text-white mb-0">Estúdio Michelle
                                Xavier<span class="text-primary">.</span> <lord-icon
                                    src="https://cdn.lordicon.com/hcghxuhk.json" trigger="in" delay="1500"
                                    state="in-reveal" colors="primary:#e8b730" style="width:30px;height:30px">
                                </lord-icon></a></h1>
                    </div>
                    <div class="col-12 col-md-8 d-none d-xl-block">
                        <nav class="site-navigation position-relative text-right" role="navigation">
                            <ul class="site-menu js-clone-nav mr-auto d-none d-lg-block">
                                <li><a href="index.html"><span class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/jeuxydnh.json" trigger="hover"
                                                state="hover-partial-roll" colors="primary:#ffffff,secondary:#e8308c"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Início</span></a></li>
                                <li class="has-children">
                                    <a href="services.html"><span class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/jectmwqf.json" trigger="hover"
                                                colors="primary:#ffffff,secondary:#e8308c"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Serviços</span></a>
                                    <ul class="dropdown arrow-top">
                                        <li><a href="#">Depilação a Cera</a></li>
                                        <li><a href="#">Massagem Relaxante</a></li>
                                        <li><a href="#">Pedras Quentes</a></li>
                                        <li class="has-children">
                                            <a href="#">Terapias</a>
                                            <ul class="dropdown">
                                                <li><a href="#">Ventosaterapia</a></li>
                                                <li><a href="#">Pedras Quentes</a></li>
                                                <li><a href="#">Massagem Relaxante</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="about.html"><span class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/wjyqkiew.json" trigger="morph"
                                                state="morph-check" colors="primary:#ffffff,secondary:#e8308c"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Sobre</span></a></li>
                                <li><a href="blog.html"><span class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/fozsorqm.json" trigger="hover"
                                                state="hover-wink" colors="primary:#ffffff,secondary:#e8308c"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Dicas e Novidades</span></a></li>
                                <li><a href="contact.html"><span class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/jdgfsfzr.json" trigger="hover"
                                                state="hover-conversation-alt"
                                                colors="primary:#ffffff,secondary:#e8308c"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Contato</span></a></li>
                                <li class="active"><a href="login.html"><span
                                            class="d-inline-flex flex-column align-items-center">
                                            <lord-icon src="https://cdn.lordicon.com/lbcxnxti.json" trigger="loop"
                                                state="loop-cycle" colors="primary:#121331,secondary:#e8b730"
                                                style="width:24px;height:24px">
                                            </lord-icon>
                                            Gestão</span></a></li>
                            </ul>
                        </nav>
                    </div>
                    <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a
                            href="#" class="site-menu-toggle js-menu-toggle text-white"><span
                                class="icon-menu h3"></span></a></div>
                </div>
            </div>
        </header>

        <div class="site-blocks-cover overlay" style="background-image: url(images/hero_bg_1.jpg);" data-aos="fade"
            data-stellar-background-ratio="0.5">
            <div class="container">
                <div class="row align-items-center justify-content-center text-center">
                    <div class="col-md-10">
                        <div class="row justify-content-center mb-4">
                            <div class="col-md-10 text-center">
                                <h1 data-aos="fade-up" class="mb-5">Área <span class="typed-words"></span></h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="site-section bg-light">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 mb-5">
                        <form id="loginForm" class="p-5 bg-white">
                            <div class="row form-group">
                                <div class="col-md-12">
                                    <label class="text-black" for="username">Usuário</label>
                                    <input type="text" id="username" class="form-control" placeholder="Usuário">
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-12">
                                    <label class="text-black" for="password">Senha</label>
                                    <input type="password" id="password" class="form-control" placeholder="Senha">
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col-md-12">
                                    <input type="submit" value="Entrar" class="btn btn-primary btn-md text-white">
                                </div>
                            </div>
                            <div id="loginMessage" class="text-danger"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <footer class="site-footer">
            <!-- Standard Footer Content -->
            <div class="container">
                <div class="row pt-5 mt-5">
                    <div class="col-12 text-md-center text-left">
                        <p>Copyright &copy;</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/jquery.countdown.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/bootstrap-datepicker.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.lordicon.com/lordicon.js"></script>

    <script src="js/typed.js"></script>
    <script>
        var typed = new Typed('.typed-words', {
            strings: ["Administrativa"],
            typeSpeed: 80,
            backSpeed: 80,
            backDelay: 4000,
            startDelay: 1000,
            loop: false,
            showCursor: true
        });
    </script>

    <script>
        document.getElementById('loginForm').addEventListener('submit', async function (e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const message = document.getElementById('loginMessage');

            try {
                const response = await fetch('http://localhost:3000/api/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });

                const data = await response.json();

                if (response.ok) {
                    // Store basic auth or token
                    localStorage.setItem('adminToken', data.token);
                    window.location.href = 'admin.html';
                } else {
                    message.textContent = data.error || 'Falha no login';
                }
            } catch (error) {
                console.error(error);
                message.textContent = 'Erro ao conectar com o servidor.';
            }
        });
    </script>
</body>

</html>